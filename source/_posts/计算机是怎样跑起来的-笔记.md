---
title: 计算机是怎样跑起来的 笔记
description: 计算机是怎样跑起来的笔记。
categories: 计算机理论
tags:
  - 计算机组成原理
index_img: /post_img/92384363_p0_master1200.jpg
banner_img: /post_img/92384363_p0_master1200.jpg
header: ''
abbrlink: 30847
---
## 计算机三大原则

计算机三大原则被描述为

1. 计算机是执行输入、运算、输出的机器
2. 程序是指令和数据的集合
3. 计算机的处理方式有时与人们的思维习惯不同，对计算机来说什么都是数字

第一点为计算机的设计提供了一个思路。由于计算机只执行这三个任务，因此在设计的时候我们也只需要考虑 I/O 进行输入输出，CPU 进行运算（CPU其实还需要内存来辅助保存数据），其他设备理论上都是可有可无或辅助这几个东西。

> DIY 圈所说的最小系统，在我记忆里（2018年左右）就是主板、内存和CPU，这些设备就可以保证主板的能跑完一整套自检和启动流程

除了所谓的“软件定义世界，数据驱动未来”，第二条原则或许也可以认为对堆内存和栈内存的设计埋下伏笔。毕竟简单来讲，C/C++ 设计的栈内存就是以保存程序为目的，用堆内存保存运行数据。

## 构建一台简单的计算机

### 概览

一台计算机需要的只有三个元件，**CPU、内存和I/O**。

### 数据和地址总线

CPU上“A”开头的管脚一般表示地址（Address）总线引脚。地址总线用于设置数据输入或输出的地址，告诉CPU向哪里传输数据总线的数据。

“D”开头的管脚就是数据（Data）总线。通常长度以字节为单位。

### I/O和时钟

I/O也有自己的寄存器，但与CPU中的不同，I/O的寄存器用于控制I/O的状态，比如操作的端口、端口的工作模式，并存储要和外部设备交换的数据。

时钟信号不必多说。

### 其他控制引脚

对于 CPU 来讲，内存和 I/O 都是连接到数据总线的，因此需要 MREQ(Memory Request) 和 IORQ(I/O Request) 引脚标识操作状态；相应的，内存或 I/O IC 上也会有 CE(Chip Enable) 管脚。

除了分清操作对象，还需要知道输入状态还是输出状态，这就需要 CPU 的 RD 引脚和 WR 引脚。

CPU 还有个极其重要的中断功能，这需要 INT（Interrupt）管脚提供支持。

上面所涉及的地址管线、数据管线和其他管线合称为总线。为了设置值，CPU 有 BUSRQ（Bus Request） 引脚隔离操作，此时可以对内存进行直接访问和修改，这种操作成为DMA（Direct Memory Access），此时，BUSAK（Bus Acknowledge）值为0。

> 连接电路时，将管脚与一个电阻和 Vcc 连接称为上拉。

## 手工汇编

### CPU中的寄存器

CPU内部有许多功能不同的寄存器，例如

- 累加器（A，Add）
- 标志寄存器（F，Flag）
- 程序指针寄存器（PC）
- 栈顶指针寄存器（SP，Stack Pointer）

### 汇编语言的读写

> 汇编语言中，使用`num`这种形式表示值，`(num)`表示地址。

汇编语言的一条语句，可能对应多个机器语言；一条机器语言的指令可能只有一个字节，也可能有两个、三个。因此，内存中的指令并不总是连续的。

> 不同CPU的内存存储方式存在差异。例如将一个2字节的数据存到内存，一些CPU低8位在前、高8位在后，这种方式被称为小端序，Little Endian。

## 程序的流动

### 程序的基本流程

程序有顺序执行、分支和循环三个基本流程。

### 中断处理

中断处理是指计算机使程序的流程突然跳转到程序中的特定地方，这样的地方被称为终端处理例程（Routine）或是中断处理程序（Handler），这种跳转是 CPU 的硬件功能实现的。这种由于外部原因使正常处理流程中断，中断后再返回到之前流程的过程就是中断处理流程。

只需要记住两点

- 计算机具有硬件上处理中断的能力
- 中断的英文是 Interrupt

### 事件驱动

通常将用户的操作成为“事件”，事件驱动就是基于事件改变程序的状态。

## 算法的七个要点

1. 步骤明确
2. 过程可重复
3. 经典算法
4. 利用计算机的处理速度
5. 使用技巧
6. 找规律
7. 先进行手动演算

## 数据结构的七个要点

1. 内存和变量的关系
2. 数组
3. 数组的应用
4. 数据结构的类型
5. 栈和队列
6. 结构体
7. 链表和二叉树

## 面向对象

## 简单的数据库

## 简单的TCP/IP网络
